# Задание
**Вариант 1.** Время выполнение 30 минут.
Спроектировать подобную систему. Не нужно углубляться рисовании схем. Просто тезисно какие технологии, фреймворки, архитектуры на каком этапе бы применили. 
**Вариант 2.** Время выполнение 1 час.
Потратить час на реализацию распознования номеров, на входе - одно из подобных картинок, как в примере, на выходе - номер и аттрибуты. В идеале залить в git (github) и снабдить описанием в виде README

# Решение
## Вариант 1
Для последующего решения задания предлагается использовать следующую структуру решения:
1. Получение кадра (из изображения/из потока)
2. Поиск и локализация номеров автомобилей на изображении/кадре для 
3. Распознавание текста распознанного экземпляра номера (тут и далее применимо для каждого экземпляра)
4. Определение региона
5. Определение принадлежности к ведомствам/структурам
6. Определение прочих признаков при необходимости

Для 2 этапа предлагается использовать нейронную сеть для распознавания и локализации номеров автомобилей (например, YOLOv8).
Реализация YOLOv8 позволяет напрямую подавать для распознавания и изображения, и видео, и URL.
Для 3 этапа предлагается использовать модель для распознавания символов (OCR модель, например (tesseract, easyOCR)) на каждом распознанном номере.
Для 4 этапа предлагается использовать фильтрацию номера по цвету, поскольку одним из ключевых отличий принадлежности к разным ведомствам является цвет номера.

## Вариант 2
Реализация подхода описанного в варианте 1

### Использование
#### Для запуска необходимо установить библиотеки из файла requirements.txt
```
pip install -r requirements.txt
```

#### Запуск программы
```
python solution.py
```
Ответом является словарь с ключами названиями изображений внутри которого находися словарь с найденными номерами, содержащими номер и найденные атрибуты. К сожалению, не осталось времени на реализацию выделения атрибутов.

#### Пример работы
```
{'1561577806_0_0_2732_2048_1440x0_80_0_0_254df470e2a19920bb135c6dc92add12.jpg': {'name': '1561577806_0_0_2732_2048_1440x0_80_0_0_254df470e2a19920bb135c6dc92add12.jpg',
                                                                                 'numbers': {'У297/Р[5С]': {'atr': [],
                                                                                                            'number': 'У297/Р[5С]'},
                                                                                             'нк 457': {'atr': [],
                                                                                                        'number': 'нк '
                                                                                                                  '457'}}},
 '382235.jpg': {'name': '382235.jpg',
                'numbers': {'5581001777': {'atr': [], 'number': '5581001777'}}},
 'a06b5fc00389e603183e3f52083205c9.jpeg': {'name': 'a06b5fc00389e603183e3f52083205c9.jpeg',
                                           'numbers': {'74РН38': {'atr': [],
                                                                  'number': '74РН38'},
                                                       'А8151': {'atr': [],
                                                                 'number': 'А8151'},
                                                       'ВВ5е1': {'atr': [],
                                                                 'number': 'ВВ5е1'},
                                                       'Н403тА54': {'atr': [],
                                                                    'number': 'Н403тА54'}}}}
```

### Ссылки
#### YOLOv8
https://github.com/ultralytics/ultralytics
https://docs.ultralytics.com/usage/python/

#### Найденные веса для модели поиска номеров
https://github.com/MuhammadMoinFaisal/Automatic_Number_Plate_Detection_Recognition_YOLOv8
https://drive.google.com/uc?id=1dIyJooVaowaNUj0R1Q-HUnu-utiGsEj8&confirm=t
